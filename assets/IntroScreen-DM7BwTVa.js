import{j as e,m as t}from"./animation-vendor-BgAit51h.js";import{r as s,d as a}from"./react-vendor-DDAia0jy.js";import{A as i}from"./AnimatedButton-DdwOle5B.js";import{L as r}from"./index-CpIeUGOp.js";import{c as l}from"./content-D4BdGI3L.js";import{f as o}from"./animations-IPDa7E0J.js";const n=({text:t,speed:a=50,onComplete:i})=>{const[r,l]=s.useState(""),o=s.useRef(0),n=s.useRef(!1);return s.useEffect(()=>{o.current=0,n.current=!1,l("");const e=setInterval(()=>{o.current<t.length?(l(t.slice(0,o.current+1)),o.current++):(clearInterval(e),!n.current&&i&&(n.current=!0,i()))},a);return()=>clearInterval(e)},[t,a,i]),e.jsx("span",{children:r})},c=()=>{const c=a(),{title:m,subtitle:x}=l.intro,[d,p]=s.useState(!0);s.useEffect(()=>{const e=sessionStorage.getItem("visited_paths"),t=e?JSON.parse(e):[];t.includes("/")||(t.push("/"),sessionStorage.setItem("visited_paths",JSON.stringify(t)));const s=[...l.stories.map(e=>e.image).filter(Boolean),...l.choices.flatMap(e=>e.options.map(e=>e.response.image)).filter(Boolean)],a=setTimeout(()=>{p(!1)},1e3);if(0===s.length)return clearTimeout(a),void p(!1);let i=0;const r=s.length;return s.forEach(e=>{if(!e)return;const t=new Image;t.onload=()=>{i++,i===r&&(clearTimeout(a),p(!1))},t.onerror=()=>{i++,i===r&&(clearTimeout(a),p(!1))},t.src=e}),()=>clearTimeout(a)},[]);return d?e.jsx(r,{message:"Preparing your journey..."}):e.jsxs(t.div,{className:"min-h-screen flex items-center justify-center overflow-hidden",style:{background:"linear-gradient(to bottom right, #ffc8dd, #e0b0ff, #bde0fe)"},variants:o,initial:"hidden",animate:"visible",children:[e.jsx("div",{className:"text-center px-4 sm:px-6 md:px-8 max-w-3xl mx-auto",children:e.jsxs(t.div,{className:"relative p-8 sm:p-10 md:p-12",style:{background:"linear-gradient(135deg, #f5deb3 0%, #e8d5c4 50%, #d4c5b0 100%)",borderRadius:"20px",border:"6px solid #8b5a2b",boxShadow:"0 12px 40px rgba(139, 90, 43, 0.4), inset 0 2px 8px rgba(255, 255, 255, 0.6), inset 0 -2px 8px rgba(139, 90, 43, 0.3)"},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,type:"spring"},children:[e.jsx("div",{className:"absolute top-2 left-2 text-2xl opacity-60",children:"ðŸŒ¿"}),e.jsx("div",{className:"absolute top-2 right-2 text-2xl opacity-60",children:"ðŸŒ¿"}),e.jsx("div",{className:"absolute bottom-2 left-2 text-2xl opacity-60",children:"ðŸ‚"}),e.jsx("div",{className:"absolute bottom-2 right-2 text-2xl opacity-60",children:"ðŸ‚"}),e.jsxs("div",{className:"p-6 sm:p-8 rounded-lg",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 100%)",border:"2px solid rgba(139, 90, 43, 0.3)"},children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl mb-4 sm:mb-6 leading-tight",style:{fontFamily:"Pixelify Sans, sans-serif",color:"#5d4037",textShadow:"2px 2px 0px rgba(255,255,255,0.5), -1px -1px 0px rgba(139, 90, 43, 0.3)"},children:m}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl mb-8 sm:mb-10 min-h-[2rem] px-2",style:{fontFamily:"Pixelify Sans, sans-serif",color:"#6d4c41"},children:e.jsx(n,{text:x,speed:50})}),e.jsx(i,{onClick:()=>{c("/lock")},variant:"primary",children:"Let's see"})]})]})}),e.jsx("div",{className:"absolute top-6 left-4 sm:top-10 sm:left-10 text-romantic-pink text-3xl sm:text-4xl md:text-5xl opacity-50 animate-pulse",children:"â™¥"}),e.jsx("div",{className:"absolute bottom-6 right-4 sm:bottom-10 sm:right-10 text-romantic-rose text-3xl sm:text-4xl md:text-5xl opacity-50 animate-pulse",style:{animationDelay:"0.5s"},children:"â™¥"}),e.jsx("div",{className:"hidden md:block absolute top-1/4 right-12 lg:right-20 text-romantic-lavender text-3xl opacity-40 animate-pulse",style:{animationDelay:"1s"},children:"â™¥"}),e.jsx("div",{className:"hidden md:block absolute bottom-1/4 left-12 lg:left-20 text-romantic-peach text-3xl opacity-40 animate-pulse",style:{animationDelay:"1.5s"},children:"â™¥"})]})};export{c as IntroScreen};
